<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>components/common/AccessibilityButtton.jsx - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#AccessibilityButton">AccessibilityButton</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Admin">Admin</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#AdvancedExample">AdvancedExample</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#ArenasVerdes">ArenasVerdes</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#AuthContext">AuthContext</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#AuthProvider">AuthProvider</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Banner">Banner</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#ButtonSubmit">ButtonSubmit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#ButtonSuccess">ButtonSuccess</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#CardPage">CardPage</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Clima">Clima</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Contact">Contact</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#ContentCard">ContentCard</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#ControlledCarousel">ControlledCarousel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Create">Create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#CreateAdmin">CreateAdmin</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#DownloadButton">DownloadButton</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Edit">Edit</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Footer">Footer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#ForgotPassword">ForgotPassword</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Global">Global</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Header">Header</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Index">Index</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#ListAdmins">ListAdmins</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Loberia">Loberia</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#NominatimAutocomplete">NominatimAutocomplete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#PanelAdmin">PanelAdmin</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#PartidoLoberia">PartidoLoberia</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Register">Register</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#ResetPassword">ResetPassword</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Routing">Routing</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#SanManuel">SanManuel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#ScrollToTopButton">ScrollToTopButton</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Searcher">Searcher</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Suscribe">Suscribe</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#UpdateAdmin">UpdateAdmin</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#WeatherCardCompact">WeatherCardCompact</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#WeatherCarousel">WeatherCarousel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Whatsapp">Whatsapp</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#defaultLocations">defaultLocations</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#diasSemana">diasSemana</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#i18n">i18n</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#iconosOWMtoFa">iconosOWMtoFa</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#navigate">navigate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#obtenerClaseIcono">obtenerClaseIcono</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#useAuth">useAuth</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#useClickOutside">useClickOutside</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">components/common/AccessibilityButtton.jsx</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState, useEffect, useRef } from "react";
import { IoAccessibility } from "react-icons/io5";
import "../../styles/stickyButton.css";

/**
 * Componente `AccessibilityButton`
 *
 * Proporciona un menú de accesibilidad que permite:
 * - Ajustar el tamaño de fuente.
 * - Activar alto contraste.
 * - Activar modo oscuro.
 * - Subrayar enlaces.
 * - Activar fuente para dislexia.
 * - Leer el contenido de la página en voz alta.
 * - Pausar, continuar o detener la lectura.
 * - Restablecer todos los ajustes de accesibilidad.
 *
 * Está diseñado para aplicarse sobre el elemento con id `main-content`.
 *
 * @component
 *
 * @example
 * &lt;AccessibilityButton />
 */
const AccessibilityButton = () => {
  const [fontSize, setFontSize] = useState(1);
  const [menuOpen, setMenuOpen] = useState(false);
  const [reading, setReading] = useState(false);
  const [isHighContrast, setIsHighContrast] = useState(false);
  const [isDarkMode, setIsDarkMode] = useState(false);
  const [isUnderlineLinks, setIsUnderlineLinks] = useState(false);
  const [isDyslexiaFont, setIsDyslexiaFont] = useState(false);
  const menuRef = useRef(null);
  const buttonRef = useRef(null);

  // Cierra el menú si se hace click fuera del mismo
  useEffect(() => {
    const handleClickOutside = (event) => {
      if (
        menuOpen &amp;&amp;
        menuRef.current &amp;&amp;
        !menuRef.current.contains(event.target) &amp;&amp;
        buttonRef.current &amp;&amp;
        !buttonRef.current.contains(event.target)
      ) {
        setMenuOpen(false);
      }
    };
    document.addEventListener("mousedown", handleClickOutside);
    return () => document.removeEventListener("mousedown", handleClickOutside);
  }, [menuOpen]);

  /**
   * Cambia el tamaño de fuente del contenido principal.
   * @param {number} size - Nuevo tamaño de fuente en rem (0.8 a 1.5).
   */
  const changeFontSize = (size) => {
    const mainContent = document.getElementById("main-content");
    const newSize = Math.max(0.8, Math.min(size, 1.5));
    if (mainContent) {
      mainContent.style.fontSize = `${newSize}rem`;
      setFontSize(newSize);
    }
  };

  /** Alterna el alto contraste */
  const toggleContrast = () => {
    const mainContent = document.getElementById("main-content");
    if (mainContent) {
      mainContent.classList.toggle("high-contrast");
      setIsHighContrast(!isHighContrast);
    }
  };

  /** Alterna el modo oscuro */
  const toggleDarkMode = () => {
    const mainContent = document.getElementById("main-content");
    if (mainContent) {
      mainContent.classList.toggle("dark-mode");
      setIsDarkMode(!isDarkMode);
    }
  };

  /** Alterna el subrayado de enlaces */
  const toggleUnderlineLinks = () => {
    const mainContent = document.getElementById("main-content");
    if (mainContent) {
      mainContent.classList.toggle("underline-links");
      setIsUnderlineLinks(!isUnderlineLinks);
    }
  };

  /** Alterna la fuente para dislexia */
  const toggleDyslexiaFont = () => {
    const mainContent = document.getElementById("main-content");
    if (mainContent) {
      mainContent.classList.toggle("dyslexia-font");
      setIsDyslexiaFont(!isDyslexiaFont);
    }
  };

  /** Lee el contenido principal en voz alta */
  const readText = () => {
    const mainContent = document.getElementById("main-content");
    if (mainContent &amp;&amp; mainContent.innerText.trim()) {
      window.speechSynthesis.cancel();
      const speech = new window.SpeechSynthesisUtterance();
      speech.text = mainContent.innerText;
      speech.lang = "es-ES";
      setReading(true);
      speech.onend = () => setReading(false);
      window.speechSynthesis.speak(speech);
    } else {
      alert("No se encontró contenido para leer.");
    }
  };

  /** Pausa o reanuda la lectura en curso */
  const pauseOrResume = () => {
    if (window.speechSynthesis.speaking) {
      if (window.speechSynthesis.paused) {
        window.speechSynthesis.resume();
      } else {
        window.speechSynthesis.pause();
      }
    }
  };

  /** Detiene la lectura en curso */
  const stopReading = () => {
    window.speechSynthesis.cancel();
    setReading(false);
  };

  /** Restablece todos los ajustes de accesibilidad */
  const resetAccessibility = () => {
    const mainContent = document.getElementById("main-content");
    if (mainContent) {
      mainContent.style.fontSize = "1rem";
      setFontSize(1);
      mainContent.classList.remove(
        "high-contrast",
        "dark-mode",
        "underline-links",
        "dyslexia-font"
      );
      stopReading();
      setIsHighContrast(false);
      setIsDarkMode(false);
      setIsUnderlineLinks(false);
      setIsDyslexiaFont(false);
    }
  };

  return (
    &lt;div
      className="accessibility-wrapper"
      role="region"
      aria-label="Menú de accesibilidad"
    >
      &lt;button
        ref={buttonRef}
        className="accessibility-trigger"
        aria-label={menuOpen ? "Cerrar menú" : "Abrir menú"}
        aria-expanded={menuOpen}
        aria-controls="accessibility-menu"
        onClick={() => setMenuOpen(!menuOpen)}
      >
        &lt;IoAccessibility />
      &lt;/button>

      {menuOpen &amp;&amp; (
        &lt;div
          ref={menuRef}
          className="accessibility-menu"
          id="accessibility-menu"
          role="menu"
          tabIndex={-1}
        >
          &lt;button onClick={() => changeFontSize(fontSize + 0.1)} aria-label="Aumentar texto" role="menuitem">A+&lt;/button>
          &lt;button onClick={() => changeFontSize(fontSize - 0.1)} aria-label="Disminuir texto" role="menuitem">A-&lt;/button>
          &lt;button onClick={toggleContrast} aria-label="Alto contraste" role="menuitem">Alto contraste&lt;/button>
          &lt;button onClick={toggleDarkMode} aria-label="Modo oscuro" role="menuitem">Modo oscuro&lt;/button>
          &lt;button onClick={toggleUnderlineLinks} aria-label="Subrayar enlaces" role="menuitem">Subrayar enlaces&lt;/button>
          &lt;button onClick={toggleDyslexiaFont} aria-label="Fuente dislexia" role="menuitem">Fuente dislexia&lt;/button>
          &lt;button onClick={readText} aria-label="Leer contenido" role="menuitem" disabled={reading}>Leer contenido&lt;/button>
          &lt;button onClick={pauseOrResume} aria-label="Pausar/Continuar" role="menuitem">Pausar/Continuar&lt;/button>
          &lt;button onClick={stopReading} aria-label="Detener lectura" role="menuitem">Detener lectura&lt;/button>
          &lt;button onClick={resetAccessibility} aria-label="Restablecer" role="menuitem">Restablecer&lt;/button>
        &lt;/div>
      )}
    &lt;/div>
  );
};

export default AccessibilityButton;
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Thu Sep 11 2025 10:17:55 GMT-0300 (hora estándar de Argentina) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
